/* ---- Tables ---- */
// Main Table
.table {
  thead {
    th {
      &.top-th { vertical-align: top;}

      &.ref-th {
        background: $light-blue !important;
      }

      .instance-ref-text {
        i { color: $primary; margin-right: rem(7px); display: inline-block; vertical-align: middle; margin-top: rem(-2px);}
      }

      a {
        color: $text-color; text-decoration: none;
        &:hover { color: $primary;}
        &.ext-link { font-weight: 500; margin-bottom: rem(10px); display: inline-block;}
        &.sortable {
          cursor: pointer;
          @include icon(sorted,after);
          &:after {
            font-size: rem(8px); margin-left: rem(6px);
          }
        }
        &.asc {
          cursor: pointer;
          @include icon(arrow-mini-up,after);
          &:after {
             font-size: rem(6px); margin-left: rem(6px); display: inline-block; vertical-align: middle; margin-top: rem(1px);
          }
        }
        &.desc {
          cursor: pointer;
          @include icon(arrow-mini-down,after);

          &:after {
            font-size: rem(5px); margin-left: rem(6px); display: inline-block; vertical-align: middle; margin-top: rem(-1px);
          }
        }

        &.btn-outline-primary{
          color: $primary; font-size: rem(14px); padding: rem(2px) rem(10px); width: auto; display: inline-block;
          &:hover, &:focus { color: $white;}
        }
      }
    }
  }
}

// Default
.default-table {
  font-weight: 300; margin-bottom: 0;
  > :not(:first-child) { border-bottom-color: $grey-10; border-top-width: 1px; }

  thead {
    th {
      font-size: rem(16px); font-weight: 400; border: 0; padding: rem(14px) rem(20px); border: 1px solid $grey-10; vertical-align: middle;
      &:nth-child(even){ background: $grey;}
      &.th-link {
        padding: 0;
        .btn { border-radius: 0; border: 0; color: $primary;
          &:hover, &:focus { color: $white;}
        }
      }
    }
  }

  tbody, tfoot {
    td {
      border: 1px solid $grey-10; padding: rem(14px) rem(20px); vertical-align: middle;
      &:nth-child(even){ background: $grey;}
      &.td-form { padding: 0; position: relative;}
      &.td-form-ref {
        .form-control { font-weight: 500;}
      }
      &.td-180 { width: 180px;}
      &.td-60 { width: 60px;}
      &.td-link {
        padding: 0;
        .btn { border-radius: 0; border: 0;}
      }
      &.td-attribut {
        position: relative; padding-right: rem(45px);
        .delete-link {
          position: absolute; right: 20px; font-size: rem(14px); top: 50%; transform: translateY(-50%); text-decoration: none;
        }
      }

      &.td-danger {
        .form-control {
          color: $danger; background: rgba($danger,.1); border-color: rgba($danger,.02);
          &:focus {
            border-color: $primary;  background: transparent; color: $text-color;
          }
        }
        div.form-control {
          display: flex; align-items: center; justify-content: center;
        }
      }

      &.td-alt-danger {
        .form-control {
          background: rgba($danger,.1); border-color: rgba($danger,.02);
          &:focus {
            border-color: $primary;  background: transparent; color: $text-color;
          }
        }
      }

      .form-control {
        border-radius: 0; border-color: $white; text-align: center; background: transparent; font-weight: 300; position: absolute; left: 0; right: 0; top: 0; bottom: 0; height: 100%;
        &:focus {
          border-color: $primary;
        }
      }
    }
  }
}

// Attribut table
.attribut-table {
  tbody {
    tr {
      &:first-child {
        td {
          &:nth-child(even){ background: $white;}
          &:nth-child(odd){ background: $grey;}
          &:first-child { background: $white;}
        }
      }
    }
  }
}

// Data
.data-table {
  font-weight: 300; border-collapse: separate; border-spacing: 0;

  thead {
    th {
      font-size: rem(16px); font-weight: 300; border: 0; padding: rem(5px) rem(10px) rem(10px); vertical-align: middle;
      &.th-140 { width: 140px;}
      &.th-400 { width: 400px;}
    }
  }

  tbody {
    tr {
      &:first-child {
        td {
          &:first-child {
            border-top-left-radius: 3px;
          }
          &:last-child {
            border-top-right-radius: 3px;
          }
        }
      }
      &:last-child {
        td {
          &:first-child {
            border-bottom-left-radius: 3px;
          }
          &:last-child {
            border-bottom-right-radius: 3px;
          }
        }
      }
      + tr {
        td {
          border-top-color: $grey;
        }
      }
      &:hover {
        td {
          background:  rgba($primary, 0.05); border-color: rgba($primary, 0.3); transition: .3s;
          &:first-child {
            border-color: rgba($primary, 0.3);
          }
          &:last-child {
            border-color: rgba($primary, 0.3);
          }
        }
      }
      &.tr-spacer {
        td { background: $white; padding: 2.5px; border: 0 !important;}
      }
      td {
        background: $grey; vertical-align: middle;  border-top: 1px solid $grey-10; border-bottom: 1px solid $grey-10; padding: rem(10px);
        &:first-child {
          border-left: 1px solid $grey-10; padding-left: rem(20px);
        }
        &:last-child {
          border-right: 1px solid $grey-10; padding-right: rem(20px);
        }
      }
    }
  }
}

.table-top-actions  {
  text-align: right; margin-bottom: rem(20px);
  .btn {
    +.btn { margin-left: rem(10px);}
  }
}

.into-p-title {
  font-size: rem(32px); margin-bottom: rem(25px);
}

.into-p-logo-block {
  margin: rem(-40px) rem(-20px) rem(50px); background: $black; padding: rem(50px) rem(60px);
}

.into-p-logo { width: 160px;}

.info-p-list {
  @extend.clearfix; margin-bottom: 0;
  li {
    float: left;
    &:not(:last-child) { margin-right: 0;}
    + li {
      &:before {
        content: ''; width: 1px; height: 20px; display: block; float: left; background: $grey-10; margin: 0 rem(15px);
      }
    }
  }
}

.detail-title {
  font-size: rem(21px); margin-bottom: 0;
}

// Mutli instance Link
.multi-instance-block {
  position: relative;

  &.left-instance-block {
    margin-bottom: rem(-10px);
    .multi-instance-list {
      transform: none; left: 0;
    }
  }

  &:hover, &:focus {
    .multi-instance-list {
      opacity: 1; pointer-events: visible;
    }
    .multi-instance-link {
      .multi-instance-tag {
        background: $primary; color: $white;
      }
    }
  }
  .multi-instance-link {
    color: $text-color; padding-bottom: rem(10px); margin-bottom: 0 !important; font-weight: 500; display: inline-block;
    &:hover, &:focus {
      color: $text-color;
      +.multi-instance-list {
        opacity: 1; pointer-events: visible; display: inline-block;
      }

      .multi-instance-tag {
        background: $primary; color: $white;
      }
    }
    &:before, &:after { display: none;}

    // Tag
    .multi-instance-tag {
       border-radius: 50px; font-size: rem(11px); padding: rem(3px) rem(10px); display: inline-block; vertical-align: middle; margin-left: rem(3px); margin-top: rem(-1px); color: $text-color; font-weight: 500; background: $grey-10;
    }
  }

  .multi-instance-list {
    position: absolute; left: 50%; transform: translateX(-50%); top: 100%; background: $white; z-index: 2; width: 420px; padding: rem(10px) rem(20px); border-radius: 3px; box-shadow: 0 4px 30px 0 rgba($black, 0.2); text-align: left; pointer-events: none; opacity: 0; transition: 0.3s;
    ul {
      margin-bottom: 0;
      li{
        position: relative; word-break: break-all;
        +li { border-top: 1px solid $grey-10;}

        a {
          padding: rem(10px) rem(100px) rem(10px) 0; min-height: 44px; position: relative; @extend .clearfix; display: block; word-break: break-all; color: $text-color; text-decoration: none; font-weight: 400;

          .btn { position: absolute; right: 0; top: 9px;}

          &:hover, &:focus {
            color: $primary;
            .btn { background-color: $primary; color: $white;}
          }
        }
      }
    }
  }
}
